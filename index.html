<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description" content="Daddy Daughter Trapping Supplies - Wisconsin Licensed Trappers offering The Egg Cover for DP coon traps. Keep your bait dry and lures working.">
  <title>Daddy Daughter Trapping Supplies | The Egg Cover</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Segoe UI', Arial, sans-serif; line-height: 1.6; color: #1a1a1a; background: #f4f1ea; }

    /* Header */
    header { background: #2d2d2d; color: #f4f1ea; padding: 1.5rem 2rem; display: flex; justify-content: space-between; align-items: center; border-bottom: 4px solid #c17a3c; position: sticky; top: 0; z-index: 100; box-shadow: 0 2px 10px rgba(0,0,0,.3); }
    .logo-section { display: flex; align-items: center; gap: 1.5rem; }
    .logo { width: 80px; height: 80px; border-radius: 4px; border: 2px solid #c17a3c; }
    h1 { font-size: 2rem; font-weight: 900; text-transform: uppercase; letter-spacing: 1px; color: #f4f1ea; }
    .tagline { font-size: .9rem; color: #c17a3c; text-transform: uppercase; letter-spacing: 2px; margin-top: .25rem; font-weight: 600; }

    /* Navigation */
    nav { background: #1a1a1a; padding: 0; box-shadow: 0 2px 10px rgba(0,0,0,.3); position: sticky; top: 110px; z-index: 99; }
    nav a { color: #f4f1ea; text-decoration: none; padding: 1rem 2rem; display: inline-block; font-weight: bold; text-transform: uppercase; letter-spacing: 1px; font-size: .95rem; transition: all .3s; border-bottom: 3px solid transparent; }
    nav a:hover { background: #c17a3c; border-bottom-color: #f4f1ea; transform: translateY(-2px); }

    /* Hero */
    .hero { background: linear-gradient(135deg, rgba(45,45,45,.85), rgba(193,122,60,.75)), url('hero.png'); background-size: cover; background-position: center; background-attachment: fixed; color: #fff; padding: 6rem 2rem; text-align: center; border-bottom: 6px solid #c17a3c; position: relative; overflow: hidden; }
    .hero::before { content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: radial-gradient(circle at 30% 50%, rgba(193,122,60,.2), transparent 50%); }
    .hero-content { position: relative; z-index: 1; }
    .hero h2 { font-size: 3rem; margin-bottom: 1rem; font-weight: 900; text-transform: uppercase; text-shadow: 3px 3px 8px rgba(0,0,0,.9); letter-spacing: 3px; animation: fadeInUp .8s ease; }
    .hero p { font-size: 1.4rem; max-width: 900px; margin: 0 auto; font-weight: 500; text-shadow: 2px 2px 6px rgba(0,0,0,.9); animation: fadeInUp 1s ease; }

    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .container { max-width: 1200px; margin: 0 auto; padding: 3rem 3.25rem 3rem 2rem; }

    /* Sections */
    .section { margin-bottom: 4rem; animation: fadeIn .8s ease; }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    .section-title { font-size: 2.5rem; color: #2d2d2d; margin-bottom: 1rem; text-transform: uppercase; font-weight: 900; letter-spacing: 2px; border-bottom: 4px solid #c17a3c; padding-bottom: .5rem; display: inline-block; position: relative; }
    .section-title::after { content: ''; position: absolute; bottom: -4px; left: 0; width: 60%; height: 4px; background: #2d2d2d; }

    .section-banner { min-height: 280px; margin: 1.25rem 0 2rem; border: 3px solid #2d2d2d; box-shadow: 0 6px 20px rgba(0,0,0,.25); background: #e8e1d4 center/cover no-repeat; border-radius: 4px; transition: transform .3s; }
    .section-banner:hover { transform: scale(1.01); }
    .banner-product { background-image: url('banner-product.jpg'); }
    .banner-media { background-image: url('banner-media.jpg'); }
    .banner-story { background-image: url('banner-story.jpg'); }

    /* Product Showcase */
    .product-showcase { background: #fff; padding: 3rem; box-shadow: 0 6px 25px rgba(0,0,0,.18); border-left: 8px solid #c17a3c; border-radius: 4px; transition: box-shadow .3s; }
    .product-showcase:hover { box-shadow: 0 8px 35px rgba(0,0,0,.25); }
    .product-grid { display: grid; grid-template-columns: 45% 55%; gap: 3rem; align-items: start; }

    .product-images { display: grid; gap: 1rem; }
    .product-images img, .product-images video { width: 100%; height: 400px; object-fit: cover; border: 3px solid #2d2d2d; box-shadow: 0 4px 15px rgba(0,0,0,.2); border-radius: 4px; transition: transform .3s, box-shadow .3s; background: #e8e1d4; }
    .product-images img:hover { transform: scale(1.03); box-shadow: 0 6px 20px rgba(0,0,0,.3); }
    .product-images video { background: #000; }

    .product-details h3 { font-size: 2.2rem; color: #2d2d2d; margin-bottom: 1rem; font-weight: 900; text-transform: uppercase; letter-spacing: 1px; }
    .product-details .subtitle { font-size: 1.2rem; color: #c17a3c; font-weight: bold; margin-bottom: 1.5rem; text-transform: uppercase; letter-spacing: 1px; }
    .product-details p { font-size: 1.05rem; margin-bottom: 1rem; line-height: 1.8; }

    .features { list-style: none; margin: 2rem 0; background: linear-gradient(135deg, #f4f1ea, #e8e1d4); padding: 1.5rem; border-left: 6px solid #c17a3c; border-radius: 4px; box-shadow: 0 2px 10px rgba(0,0,0,.1); }
    .features li { padding: .7rem 0 .7rem 2rem; position: relative; font-size: 1.05rem; font-weight: 500; transition: transform .2s; }
    .features li:hover { transform: translateX(5px); }
    .features li:before { content: "■"; position: absolute; left: 0; color: #c17a3c; font-weight: bold; font-size: 1.2rem; }

    .problem-solution { background: linear-gradient(135deg, #2d2d2d, #1a1a1a); color: #f4f1ea; padding: 1.5rem; margin-top: 2rem; border-left: 6px solid #c17a3c; border-radius: 4px; box-shadow: 0 4px 15px rgba(0,0,0,.3); }
    .problem-solution p { margin-bottom: .8rem; }
    .problem-solution p:last-child { margin-bottom: 0; }
    .problem-solution strong { color: #c17a3c; font-size: 1.1rem; display: block; margin-bottom: .3rem; }

    /* Media Showcase */
    .media-showcase { background:#fff; padding: 2rem; box-shadow: 0 6px 25px rgba(0,0,0,.18); border-left: 8px solid #c17a3c; border-radius: 4px; }
    .media-grid { display:grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 1rem; margin-top: 1rem; }
    .media-grid img { width:100%; height: 280px; object-fit: cover; border: 3px solid #2d2d2d; box-shadow: 0 4px 15px rgba(0,0,0,.2); border-radius: 4px; transition: transform .3s, box-shadow .3s; background: #e8e1d4; }
    .media-grid img:hover { transform: scale(1.05); box-shadow: 0 6px 20px rgba(0,0,0,.3); }

    /* Video Carousel */
    .video-carousel { position: relative; overflow: hidden; border: 3px solid #2d2d2d; box-shadow: 0 6px 20px rgba(0,0,0,.25); background:#000; margin-bottom: 1.5rem; border-radius: 4px; touch-action: pan-y; }
    .video-track { display: flex; transition: transform .45s ease; }
    .video-slide { min-width: 100%; }
    .video-slide video { width: 100%; height: auto; display: block; background:#000; }

    .vc-btn { position:absolute; top:50%; transform:translateY(-50%); background:rgba(45,45,45,.75); color:#fff; border:2px solid #c17a3c; padding:.8rem 1.2rem; cursor:pointer; font-size:1.3rem; border-radius: 4px; transition: all .3s; z-index: 10; font-weight: bold; }
    .vc-btn:hover { background:rgba(193,122,60,.9); transform: translateY(-50%) scale(1.1); box-shadow: 0 4px 12px rgba(0,0,0,.4); }
    .vc-btn.prev { left:.8rem; }
    .vc-btn.next { right:.8rem; }

    .vc-dots { position:absolute; left:0; right:0; bottom:.8rem; display:flex; gap:.5rem; justify-content:center; z-index: 10; }
    .vc-dots button { width:.75rem; height:.75rem; border-radius:50%; border:2px solid #fff; background:rgba(255,255,255,.5); cursor:pointer; transition: all .3s; }
    .vc-dots button:hover { background:rgba(255,255,255,.8); transform: scale(1.2); }
    .vc-dots button.is-active { background:#c17a3c; border-color: #c17a3c; transform: scale(1.15); }

    /* Story Section */
    .story-section { background: #fff; padding: 2.5rem; border-left: 8px solid #c17a3c; box-shadow: 0 6px 25px rgba(0,0,0,.18); margin-bottom: 2rem; border-radius: 4px; }
    .story-section p { font-size: 1.1rem; margin-bottom: 1.5rem; line-height: 1.8; }
    .story-section p:last-child { margin-bottom: 0; font-weight: 600; color: #c17a3c; font-size: 1.15rem; }
    .story-section strong { color: #2d2d2d; font-weight: 700; }

    .family-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 1.5rem; }
    .value-card { background: linear-gradient(135deg, #fff, #f4f1ea); padding: 2rem; border: 3px solid #2d2d2d; border-radius: 4px; box-shadow: 0 4px 15px rgba(0,0,0,.15); transition: all .3s; position: relative; overflow: hidden; }
    .value-card::before { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 4px; background: linear-gradient(90deg, #c17a3c, #2d2d2d); }
    .value-card:hover { transform: translateY(-5px); box-shadow: 0 8px 25px rgba(0,0,0,.25); border-color: #c17a3c; }
    .value-card h3 { font-size: 1.5rem; color: #2d2d2d; margin-bottom: 1rem; font-weight: 900; text-transform: uppercase; letter-spacing: 1px; }
    .value-card p { font-size: 1rem; line-height: 1.7; color: #333; }

    /* CTA Section */
    .cta-section { background: linear-gradient(135deg, #c17a3c, #a06530); color: #fff; padding: 4rem 3rem; text-align: center; margin: 3rem 0; box-shadow: 0 6px 25px rgba(0,0,0,.25); border-radius: 4px; position: relative; overflow: hidden; }
    .cta-section::before { content: ''; position: absolute; top: -50%; right: -50%; width: 200%; height: 200%; background: radial-gradient(circle, rgba(255,255,255,.1), transparent 50%); animation: pulse 8s ease-in-out infinite; }
    @keyframes pulse {
      0%, 100% { transform: scale(1); opacity: .5; }
      50% { transform: scale(1.1); opacity: .8; }
    }
    .cta-section h2 { font-size: 2.5rem; margin-bottom: 1rem; text-transform: uppercase; font-weight: 900; letter-spacing: 2px; position: relative; z-index: 1; }
    .cta-section p { position: relative; z-index: 1; }
    .cta-button { display: inline-block; background: #2d2d2d; color: #f4f1ea; padding: 1.2rem 3rem; text-decoration: none; font-size: 1.2rem; font-weight: 900; margin-top: 1.5rem; transition: all .3s; text-transform: uppercase; letter-spacing: 2px; border: 3px solid #2d2d2d; border-radius: 4px; position: relative; z-index: 1; box-shadow: 0 4px 15px rgba(0,0,0,.3); }
    .cta-button:hover { background: #f4f1ea; color: #2d2d2d; transform: translateY(-3px); box-shadow: 0 8px 25px rgba(0,0,0,.4); }

    /* Footer */
    footer { background: #1a1a1a; color: #f4f1ea; text-align: center; padding: 2.5rem; border-top: 4px solid #c17a3c; }
    footer a { color: #c17a3c; text-decoration: none; font-weight: bold; transition: color .3s; }
    footer a:hover { color: #d88d4f; text-decoration: underline; }

    /* Scroll to top button */
    .scroll-top { position: fixed; bottom: 2rem; right: 2rem; background: #c17a3c; color: #fff; width: 50px; height: 50px; border-radius: 50%; border: 3px solid #2d2d2d; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; cursor: pointer; opacity: 0; visibility: hidden; transition: all .3s; z-index: 1000; box-shadow: 0 4px 15px rgba(0,0,0,.3); }
    .scroll-top.visible { opacity: 1; visibility: visible; }
    .scroll-top:hover { background: #2d2d2d; transform: translateY(-3px); box-shadow: 0 6px 20px rgba(0,0,0,.4); }

    /* Responsive */
    @media (max-width: 968px) {
      .product-grid { grid-template-columns: 1fr; }
      .family-grid { grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); }
    }

    @media (max-width: 768px) {
      .container { padding: 2rem 1.25rem; }
      h1 { font-size: 1.4rem; }
      .tagline { font-size: .8rem; }
      .hero h2 { font-size: 2rem; }
      .hero p { font-size: 1.1rem; }
      nav { position: static; }
      nav a { display: block; padding: 1rem; border-bottom: 1px solid #2d2d2d; }
      header { flex-direction: column; text-align: center; position: relative; }
      .logo-section { flex-direction: column; gap: 1rem; }
      .section-title { font-size: 2rem; }
      .vc-btn { padding: .6rem .9rem; font-size: 1.1rem; }
      .scroll-top { bottom: 1rem; right: 1rem; width: 45px; height: 45px; }
    }

    @media (max-width: 480px) {
      h1 { font-size: 1.2rem; }
      .hero h2 { font-size: 1.6rem; }
      .section-title { font-size: 1.6rem; }
      .product-details h3 { font-size: 1.8rem; }
      .cta-section h2 { font-size: 2rem; }
    }

    /* Pricing / Order (NEW) */
    .pricing-wrap { margin: 2rem 0 4rem; }
    .pricing-card {
      background: #fff;
      padding: 2rem;
      border-left: 8px solid #c17a3c;
      border-radius: 4px;
      box-shadow: 0 6px 25px rgba(0,0,0,.18);
    }
    .pricing-card h3 {
      font-size: 1.8rem;
      color: #2d2d2d;
      margin-bottom: .75rem;
      text-transform: uppercase;
      font-weight: 900;
      letter-spacing: 1px;
    }
    .price-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 1rem;
      margin: 1rem 0 1.25rem;
    }
    .price-tile {
      background: linear-gradient(135deg, #f4f1ea, #e8e1d4);
      border: 3px solid #2d2d2d;
      border-radius: 4px;
      padding: 1rem 1.25rem;
      box-shadow: 0 4px 15px rgba(0,0,0,.15);
      text-align: center;
    }
    .price-tile .big {
      font-size: 2rem;
      font-weight: 900;
      color: #2d2d2d;
    }
    .price-tile .sub {
      font-weight: 700;
      color: #c17a3c;
      text-transform: uppercase;
      letter-spacing: 1px;
    }
    .order-note {
      background: #2d2d2d;
      color: #f4f1ea;
      padding: 1rem 1.25rem;
      border-left: 6px solid #c17a3c;
      border-radius: 4px;
      margin-top: 1rem;
      font-size: 0.98rem;
    }
    .order-button {
      display: inline-block;
      background: #2d2d2d;
      color: #f4f1ea;
      padding: 0.9rem 1.4rem;
      text-decoration: none;
      font-size: 1.05rem;
      font-weight: 900;
      text-transform: uppercase;
      letter-spacing: 1px;
      border: 3px solid #2d2d2d;
      border-radius: 4px;
      transition: all .3s;
      margin-top: .5rem;
      box-shadow: 0 4px 15px rgba(0,0,0,.3);
    }
    .order-button:hover {
      background: #f4f1ea;
      color: #2d2d2d;
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(0,0,0,.4);
    }
  </style>
</head>
<body>
  <header>
    <div class="logo-section">
      <img src="logo.png" alt="Daddy Daughter Trapping Logo" class="logo">
      <div>
        <h1>Daddy Daughter Trapping</h1>
        <div class="tagline">Wisconsin Licensed Trappers | Building Memories in the Field</div>
      </div>
    </div>
  </header>

  <nav>
    <a href="#product">The Egg Cover</a>
    <a href="#media">Media</a>
    <a href="#story">Our Story</a>
    <a href="#contact">Connect</a>
  </nav>

  <div class="hero">
    <div class="hero-content">
      <h2>Families That Trap Together, Stay Together</h2>
      <p>Wisconsin Licensed Trappers | Building Memories in the Field</p>
    </div>
  </div>

  <div class="container">
    <!-- PRODUCT -->
    <section id="product" class="section">
      <h2 class="section-title">Introducing The Egg Cover</h2>
      <div class="section-banner banner-product" aria-hidden="true"></div>

      <div class="product-showcase">
        <div class="product-grid">
          <div class="product-images">
            <img src="trapcover.png" alt="Egg Cover trap cover">
            <img src="product3.png" alt="Egg Cover in field setting">
          </div>

          <div class="product-details">
            <h3>The Egg Cover</h3>
            <div class="subtitle">For DP Coon Traps</div>
            <p>Born from real trapline experience. Designed by a father-daughter team who know what it takes to run a successful trap line in all conditions.</p>

            <ul class="features">
              <li>Keeps bait and lure bone dry in rain, snow, and wet conditions</li>
              <li>Screw-off egg top provides easy access to bait chamber</li>
              <li>Internal chamber designed for cotton ball with lure</li>
              <li>Two precision 45-degree vents ensure optimal scent diffusion</li>
              <li>Durable construction stands up to Wisconsin weather</li>
              <li>Purpose-built for DP coon traps</li>
            </ul>

            <div class="problem-solution">
              <p><strong>THE PROBLEM:</strong> Rain, snow, and moisture destroy bait effectiveness and wash away expensive lures. Your trapline investment gets compromised every time weather rolls in.</p>
              <p><strong>THE SOLUTION:</strong> The Egg Cover protects your bait investment while maintaining the scent attraction that brings animals to your sets. Keep your lures working and your catch rates high, no matter what Mother Nature throws at you.</p>
            </div>
          </div>
        </div>
      </div>

      <!-- PRICING / ORDER (NEW) -->
      <div id="pricing" class="pricing-wrap">
        <div class="pricing-card">
          <h3>Pricing</h3>
          <div class="price-grid">
            <div class="price-tile">
              <div class="big">$6</div>
              <div class="sub">Per Egg</div>
            </div>
            <div class="price-tile">
              <div class="big">$60</div>
              <div class="sub">12 Eggs</div>
            </div>
          </div>

          <a href="https://m.me/daddy.daughter.trapping" target="_blank" rel="noopener" class="order-button" id="orderBtn" aria-label="Contact us to order on Facebook Messenger">
            Contact us to order
          </a>

          <div class="order-note">
            Clicking the button opens Facebook Messenger to our page. Tell us how many you want, and we’ll reply with the order form &amp; payment options.
          </div>
        </div>
            <!--
EMBED INSTRUCTIONS
-------------------------------------------
• Paste this block anywhere on your page (e.g., under Pricing).
• This wraps the game in a COLLAPSIBLE section (closed by default).
• Set data-raccoon to your image path (e.g., raccoon.png). If missing, a clean SVG fallback is used.
• Discount shows on GAME OVER only if you reached Level 5+.
• Contact buttons reuse your site’s .order-button and open Messenger (no clipboard).
-->

<section id="egg-game-collapsible" class="section" aria-label="Egg Cover Game">
  <button class="egg-toggle" type="button" aria-expanded="false" aria-controls="egg-game-panel">
    ▶ Play the Egg Cover Catch (Raccoon) Game
  </button>

  <div id="egg-game-panel" class="egg-collapsible" hidden>
    <div id="egg-cover-game" class="egg-game" data-height="520" data-raccoon="raccoon.png" aria-label="Egg Cover Catch game"></div>
  </div>
</section>

<style>
  /* Collapsible UI (scoped) */
  #egg-game-collapsible { margin: 1.5rem 0; }
  .egg-toggle {
    appearance:none; border:3px solid #2d2d2d; background:#2d2d2d; color:#f4f1ea; font-weight:900; text-transform:uppercase; letter-spacing:1px;
    padding: .9rem 1.25rem; border-radius:6px; cursor:pointer; box-shadow:0 4px 14px rgba(0,0,0,.25);
  }
  .egg-toggle:hover { background:#f4f1ea; color:#2d2d2d; transform:translateY(-2px); transition:all .2s; }
  .egg-collapsible { margin-top: 1rem; }

  /* Game styles (scoped) */
  .egg-game { position: relative; width: 100%; max-width: 960px; margin: 0 auto; user-select:none; -webkit-user-select:none; }
  .egg-game canvas { display:block; width:100%; height:auto; background: radial-gradient(1200px 560px at 20% -10%, #1b1b1b, #0c0c0c); border:2px solid #2d2d2d; border-left: 6px solid #c17a3c; border-radius: 12px; box-shadow: 0 14px 36px rgba(0,0,0,.35); }
  .egg-ui { position:absolute; inset:0; pointer-events:none; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; color:#f4f1ea; }
  .egg-hud { position:absolute; left:10px; right:10px; top:10px; display:flex; gap:8px; justify-content:space-between; font-weight:800; text-shadow:0 2px 0 #000; flex-wrap:wrap; }
  .egg-pill { background: rgba(0,0,0,.45); padding:6px 10px; border-radius:999px; border:1px solid #333; }
  .egg-overlay { position:absolute; inset:0; display:grid; place-items:center; pointer-events:auto; }
  .egg-panel { width:min(720px, 92%); background: linear-gradient(135deg, rgba(26,26,26,.94), rgba(12,12,12,.94)); border: 2px solid #2d2d2d; border-left: 8px solid #c17a3c; border-radius: 12px; box-shadow: 0 18px 48px rgba(0,0,0,.5); padding: clamp(16px, 3vw, 26px); animation: egg-drop .5s ease both; }
  .egg-title { margin:0 0 6px; font-size: clamp(22px, 3.6vw, 38px); letter-spacing:.3px; }
  .egg-tag { color:#c17a3c; text-transform:uppercase; font-size:12px; letter-spacing:1.6px; }
  .egg-row { display:grid; gap:10px; grid-template-columns: repeat(auto-fit, minmax(180px,1fr)); margin:.75rem 0 1rem; }
  .egg-price { background: linear-gradient(135deg, #2a2a2a, #1a1a1a); border: 2px solid #2d2d2d; border-radius:10px; padding:12px; text-align:center; }
  .egg-price b { font-size:26px; }
  .egg-price small { color:#c17a3c; font-weight:800; letter-spacing:1px; text-transform:uppercase; }
  .egg-btns { display:flex; gap:10px; flex-wrap:wrap; }
  .egg-btn { pointer-events:auto; appearance:none; border:0; cursor:pointer; font-weight:900; letter-spacing:.5px; text-transform:uppercase; border-radius:10px; padding:12px 16px; font-size:14px; background:#c17a3c; color:#fff; border:2px solid #2d2d2d; box-shadow:0 10px 24px rgba(193,122,60,.35); transition: transform .12s ease, filter .12s ease; text-decoration:none; display:inline-block; }
  .egg-btn:hover { transform: translateY(-1px); filter:brightness(1.05); }
  .egg-btn.secondary { background:#242424; color:#f4f1ea; box-shadow: 0 10px 24px rgba(0,0,0,.35); }
  .egg-help { color:#bbb; font-size:13px; margin-top:.5rem; }
  .egg-touch { position:absolute; bottom:0; width:50%; height:42%; display:none; }
  .egg-touch.left { left:0; }
  .egg-touch.right { right:0; }
  @media (max-width:820px){ .egg-touch{ display:block; } }
  @keyframes egg-drop { from { transform: translateY(14px); opacity:0 } to { transform: translateY(0); opacity:1 } }

  /* Optional fallback for .order-button to look decent inside the game UI if page style isn't available */
  .egg-game .order-button { display:inline-block; background:#2d2d2d; color:#f4f1ea; padding:0.9rem 1.4rem; text-decoration:none; font-size:1.05rem; font-weight:900; text-transform:uppercase; letter-spacing:1px; border:3px solid #2d2d2d; border-radius:4px; transition:all .3s; box-shadow:0 4px 15px rgba(0,0,0,.3); }
  .egg-game .order-button:hover { background:#f4f1ea; color:#2d2d2d; transform:translateY(-2px); box-shadow:0 8px 25px rgba(0,0,0,.4); }
</style>

<script>
(function(){
  // Collapsible behavior
  const wrap = document.getElementById('egg-game-collapsible');
  const toggle = wrap.querySelector('.egg-toggle');
  const panel = document.getElementById('egg-game-panel');
  let initialized = false;

  toggle.addEventListener('click', () => {
    const open = toggle.getAttribute('aria-expanded') === 'true';
    toggle.setAttribute('aria-expanded', String(!open));
    panel.hidden = open; // toggle
    if (!open && !initialized) { initialized = true; mountGame(document.getElementById('egg-cover-game')); }
  });

  // Game mounts lazily when opened the first time
  function mountGame(container){
    container.tabIndex = 0;

    const canvas = document.createElement('canvas');
    const ui = document.createElement('div'); ui.className='egg-ui';
    container.appendChild(canvas); container.appendChild(ui);

    ui.innerHTML = `
      <div class="egg-hud" aria-hidden="true">
        <div class="egg-pill">Score: <span id="egScore">0</span></div>
        <div class="egg-pill">High: <span id="egHigh">0</span></div>
        <div class="egg-pill">Level: <span id="egLevel">1</span></div>
      </div>
      <div class="egg-overlay" id="egStart">
        <div class="egg-panel">
          <div class="egg-tag">Daddy Daughter Trapping</div>
          <h2 class="egg-title">Egg Cover Catch — Raccoon Edition</h2>
          <p style="margin:.25rem 0 1rem; color:#ddd">Move the <b>raccoon</b> to catch Egg Toppers and avoid the rain.</p>
          <div class="egg-row">
            <div class="egg-price"><b>$6</b><br><small>Per Egg</small></div>
            <div class="egg-price"><b>$60</b><br><small>12 Eggs</small></div>
          </div>
          <div style="margin:.25rem 0 .75rem">Controls: ← → or A/D • P to pause • Tap left/right on mobile</div>
          <div class="egg-btns">
            <button class="egg-btn" id="egStartBtn">Start</button>
            <!-- Reuse your site button styling -->
            <a class="order-button" href="https://m.me/daddy.daughter.trapping" target="_blank" rel="noopener">Contact us to order</a>
          </div>
          <div class="egg-help">Opens Facebook Messenger to our page.</div>
        </div>
      </div>

      <div class="egg-overlay" id="egOver" style="display:none">
        <div class="egg-panel" style="text-align:center">
          <h2 class="egg-title" style="margin-bottom:.25rem">Game Over</h2>
          <div style="margin:0 0 .6rem">Final Score: <b id="egFinal">0</b> • Level: <b id="egFinalLevel">1</b></div>

          <!-- Discount (only shown if Level >= 5) -->
          <div id="egOverDiscount" style="display:none; margin:.5rem auto .9rem; background:#1f1f1f;border-left:6px solid #c17a3c;border:1px solid #333; border-radius:10px; padding:12px; width:min(520px,90%); text-align:left;">
            <div style="font-weight:800; margin-bottom:6px;">Discount Unlocked! 🎉</div>
            <div style="line-height:1.6">
              Use code <span style="font-weight:900; background:#2a2a2a; border:1px solid #444; border-radius:8px; padding:2px 8px;">DDT10</span> for <b>10% off</b> your Egg Toppers.
              <br/>Please <b>include this code in your Facebook message</b> for a 10% discount (<b>1 per customer</b>). Thanks for playing!
            </div>
            <div style="margin-top:.6rem">
              <a class="order-button" href="https://m.me/daddy.daughter.trapping" target="_blank" rel="noopener">Message Us Now</a>
            </div>
          </div>

          <div class="egg-btns" style="justify-content:center; gap:12px; flex-wrap:wrap">
            <button class="egg-btn" id="egRetryBtn">Play Again</button>
            <a class="order-button" href="https://m.me/daddy.daughter.trapping" target="_blank" rel="noopener">Contact us to order</a>
          </div>
        </div>
      </div>

      <div class="egg-touch left" id="egTouchL" aria-hidden="true"></div>
      <div class="egg-touch right" id="egTouchR" aria-hidden="true"></div>
    `;

    const dpr = Math.max(1, Math.min(window.devicePixelRatio || 1, 2));
    const ctx = canvas.getContext('2d');

    function resize(){
      const h = Number(container.getAttribute('data-height') || 520);
      const w = container.clientWidth;
      canvas.width = Math.floor(w * dpr);
      canvas.height = Math.floor(h * dpr);
      canvas.style.width = w + 'px';
      canvas.style.height = h + 'px';
      ctx.setTransform(dpr,0,0,dpr,0,0);
    }
    const ro = new ResizeObserver(resize); ro.observe(container);
    resize();

    const el = {
      score: ui.querySelector('#egScore'),
      high: ui.querySelector('#egHigh'),
      level: ui.querySelector('#egLevel'),
      start: ui.querySelector('#egStart'),
      over: ui.querySelector('#egOver'),
      final: ui.querySelector('#egFinal'),
      finalLevel: ui.querySelector('#egFinalLevel'),
      startBtn: ui.querySelector('#egStartBtn'),
      retryBtn: ui.querySelector('#egRetryBtn'),
      touchL: ui.querySelector('#egTouchL'),
      touchR: ui.querySelector('#egTouchR'),
      overDiscount: ui.querySelector('#egOverDiscount'),
    };

    // High score
    const HS_KEY = 'eggcover_raccoon_collapsible_high_v1';
    const getHS = () => Number(localStorage.getItem(HS_KEY) || 0);
    const setHS = v => localStorage.setItem(HS_KEY, String(v));
    el.high.textContent = getHS();

    // Game state
    const state = { running:false, paused:false, score:0, level:1, last:performance.now(), spawnMs:900, spawnAcc:0, items:[], particles:[], streak:0 };

    // Player & raccoon image
    const player = { x: (canvas.width/dpr)/2, y: (canvas.height/dpr)-72, w: 120, h: 90, vx:0, speed: 540 };
    function resetPlayer(){ player.x = (canvas.width/dpr)/2; player.vx = 0; }

    const raccoonImg = new Image();
    raccoonImg.crossOrigin = 'anonymous';
    let raccoonReady = false;
    const DEFAULT_SVG = `
      <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 220 160'>
        <defs><linearGradient id='g' x1='0' y1='0' x2='0' y2='1'><stop offset='0' stop-color='#6b6b6b'/><stop offset='1' stop-color='#4e4e4e'/></linearGradient></defs>
        <rect x='30' y='70' rx='28' ry='28' width='160' height='66' fill='url(#g)'/>
        <rect x='46' y='82' rx='20' ry='20' width='128' height='42' fill='#7d7d7d' opacity='.8'/>
        <ellipse cx='80' cy='58' rx='38' ry='30' fill='url(#g)'/>
        <ellipse cx='80' cy='64' rx='26' ry='18' fill='#9a9a9a'/>
        <path d='M57 47 L70 23 L78 45 Z' fill='#6b6b6b'/>
        <path d='M103 47 L90 23 L82 45 Z' fill='#6b6b6b'/>
        <path d='M60 44 L69 28 L74 44 Z' fill='#d4a6a6'/>
        <path d='M100 44 L91 28 L86 44 Z' fill='#d4a6a6'/>
        <ellipse cx='80' cy='60' rx='36' ry='14' fill='#2a2a2a'/>
        <ellipse cx='66' cy='60' rx='7' ry='6' fill='#fff'/>
        <ellipse cx='94' cy='60' rx='7' ry='6' fill='#fff'/>
        <circle cx='66' cy='60' r='3' fill='#000'/>
        <circle cx='94' cy='60' r='3' fill='#000'/>
        <ellipse cx='80' cy='70' rx='4' ry='3' fill='#161616'/>
        <g stroke='#1e1e1e' stroke-width='2'><line x1='76' y1='70' x2='56' y2='74'/><line x1='76' y1='74' x2='56' y2='80'/><line x1='84' y1='70' x2='104' y2='74'/><line x1='84' y1='74' x2='104' y2='80'/></g>
        <ellipse cx='50' cy='116' rx='12' ry='7' fill='#595959'/>
        <ellipse cx='74' cy='118' rx='12' ry='7' fill='#595959'/>
        <g transform='translate(168 88) rotate(-32)'>
          <ellipse cx='0' cy='0' rx='18' ry='42' fill='url(#g)'/>
          <g stroke='#2a2a2a' stroke-width='10'>
            <line x1='-14' y1='-20' x2='14' y2='-20'/>
            <line x1='-14' y1='0' x2='14' y2='0'/>
            <line x1='-14' y1='20' x2='14' y2='20'/>
          </g>
        </g>
      </svg>`;
    const DEFAULT_RACCOON = 'data:image/svg+xml;utf8,' + encodeURIComponent(DEFAULT_SVG);
    raccoonImg.onload = ()=>{ raccoonReady = true; };
    raccoonImg.onerror = ()=>{ raccoonReady = false; };
    raccoonImg.src = container.getAttribute('data-raccoon') || DEFAULT_RACCOON;

    // Input
    const keys = new Set();
    container.addEventListener('keydown', (e)=>{
      if (e.key==='p' || e.key==='P'){ if(state.running){ state.paused=!state.paused; e.preventDefault(); } }
      if (['ArrowLeft','a','A'].includes(e.key)) { keys.add('left'); e.preventDefault(); }
      if (['ArrowRight','d','D'].includes(e.key)) { keys.add('right'); e.preventDefault(); }
    });
    container.addEventListener('keyup', (e)=>{
      if (['ArrowLeft','a','A'].includes(e.key)) keys.delete('left');
      if (['ArrowRight','d','D'].includes(e.key)) keys.delete('right');
    });
    let leftHeld=false, rightHeld=false;
    function bindTouch(node, on){
      ['touchstart','pointerdown','mousedown'].forEach(t=>node.addEventListener(t, e=>{ on(true); e.preventDefault(); container.focus(); }));
      ['touchend','touchcancel','pointerup','mouseup','mouseleave'].forEach(t=>node.addEventListener(t, ()=>on(false)));
    }
    bindTouch(el.touchL, v=>leftHeld=v);
    bindTouch(el.touchR, v=>rightHeld=v);

    // Items
    const TYPE_EGG='egg', TYPE_RAIN='rain';
    function spawnItem(){
      const W = canvas.width/dpr;
      const type = Math.random() < 0.8 ? TYPE_EGG : TYPE_RAIN;
      const size = (type===TYPE_EGG? 18 : 8) + Math.random()*3;
      const x = Math.random()*(W - size*2)+size;
      const y = -20;
      const vy = (type===TYPE_EGG? 200: 280) + Math.random()*140;
      const rot = Math.random()*Math.PI*2; const omega = (Math.random()*2-1)*2;
      state.items.push({type,x,y,vy,rot,omega,size});
    }

    // Particles
    function pop(x,y,color,count=12){
      for(let i=0;i<count;i++){
        const a=Math.random()*Math.PI*2, s=80+Math.random()*180;
        state.particles.push({x,y,vx:Math.cos(a)*s,vy:Math.sin(a)*s,life:.55+Math.random()*.45,color});
      }
    }

    // Flow
    function start(){
      state.running=true; state.paused=false; state.score=0; state.level=1; state.spawnMs=900; state.spawnAcc=0; state.items.length=0; state.particles.length=0; state.streak=0;
      resetPlayer(); el.score.textContent='0'; el.level.textContent='1'; el.start.style.display='none'; el.over.style.display='none';
      container.focus(); state.last=performance.now();
    }
    function end(){
      state.running=false; el.final.textContent = state.score; el.finalLevel.textContent = state.level;
      if (state.score > getHS()) { setHS(state.score); el.high.textContent = state.score; }
      // Discount visible only if level >= 5
      el.overDiscount.style.display = (state.level >= 5) ? 'block' : 'none';
      el.over.style.display='grid';
    }

    function update(dt){
      if (!state.running || state.paused) return;
      const W = canvas.width/dpr, H = canvas.height/dpr;

      const L = keys.has('left')||leftHeld; const R = keys.has('right')||rightHeld;
      player.vx = (R?1:0) - (L?1:0);
      player.x += player.vx*player.speed*dt; player.x = Math.max(58, Math.min(W-58, player.x));

      state.spawnAcc += dt*1000; while(state.spawnAcc > state.spawnMs){ state.spawnAcc -= state.spawnMs; spawnItem(); }

      for(let i=state.items.length-1;i>=0;i--){
        const it = state.items[i]; it.y += it.vy*dt; it.rot += it.omega*dt;
        const withinX = Math.abs(it.x - player.x) < (player.w/2 + it.size*0.8);
        const withinY = Math.abs(it.y - player.y) < (player.h*0.45 + it.size*0.8);
        if (withinX && withinY){
          if (it.type===TYPE_EGG){
            state.streak = Math.min(10, state.streak+1);
            const gain = 10 + state.streak*2; state.score += gain; el.score.textContent = state.score; pop(it.x,it.y,'#f4f1ea',10); state.items.splice(i,1);
          } else {
            pop(it.x,it.y,'#4aa1ff',16); state.items.splice(i,1); end(); break;
          }
        } else if (it.y > H+50){ if (it.type===TYPE_EGG) state.streak=0; state.items.splice(i,1); }
      }

      const newLevel = 1 + Math.floor(state.score/160);
      if (newLevel!==state.level){ state.level=newLevel; el.level.textContent=String(state.level); state.spawnMs = Math.max(360, 900 - (state.level-1)*50); pop(player.x, player.y-50, '#c17a3c', 24); }

      for(let i=state.particles.length-1;i>=0;i--){ const p=state.particles[i]; p.life-=dt; if(p.life<=0){state.particles.splice(i,1); continue;} p.x+=p.vx*dt; p.y+=p.vy*dt; p.vy+=80*dt; }
    }

    function draw(){
      const W = canvas.width/dpr, H = canvas.height/dpr;
      ctx.clearRect(0,0,W,H);

      // Background
      const g = ctx.createLinearGradient(0,0,0,H); g.addColorStop(0,'#0d0d0d'); g.addColorStop(1,'#131313'); ctx.fillStyle=g; ctx.fillRect(0,0,W,H);
      // ground
      ctx.strokeStyle='#2a2a2a'; ctx.lineWidth=2; ctx.beginPath(); ctx.moveTo(0,H-44); ctx.lineTo(W,H-44); ctx.stroke();

      // Soft shadow under raccoon
      ctx.save(); ctx.globalAlpha=0.25; ctx.fillStyle='#000'; ctx.beginPath(); ctx.ellipse(player.x, H-42, 60, 10, 0, 0, Math.PI*2); ctx.fill(); ctx.restore();

      // Raccoon sprite
      if (raccoonReady){
        ctx.drawImage(raccoonImg, player.x - player.w/2, player.y - player.h*0.85, player.w, player.h);
      } else {
        // Fallback simple block (hidden once your image loads)
        ctx.fillStyle = '#6a6a6a'; ctx.fillRect(player.x-45, player.y-28, 90, 34);
      }

      // Items
      for(const it of state.items){ ctx.save(); ctx.translate(it.x,it.y); ctx.rotate(it.rot);
        if (it.type===TYPE_EGG){ ctx.fillStyle='#f4f1ea'; ellipse(ctx,0,0,it.size*.8,it.size*1.1); ctx.fill(); ctx.strokeStyle='#c17a3c'; ctx.lineWidth=2; ctx.beginPath(); ctx.ellipse(0,-it.size*0.1,it.size*0.75,it.size*0.2,0,0,Math.PI*2); ctx.stroke(); }
        else { ctx.fillStyle='#4aa1ff'; ctx.beginPath(); ctx.moveTo(0,-it.size); ctx.bezierCurveTo(it.size,-it.size,it.size,it.size*0.2,0,it.size); ctx.bezierCurveTo(-it.size,it.size*0.2,-it.size,-it.size,0,-it.size); ctx.fill(); }
        ctx.restore(); }

      // Particles
      for(const p of state.particles){ ctx.globalAlpha=Math.max(0,Math.min(1,p.life)); ctx.fillStyle=p.color; ctx.beginPath(); ctx.arc(p.x,p.y,2.2,0,Math.PI*2); ctx.fill(); ctx.globalAlpha=1; }

      if (state.running && state.paused){ ctx.fillStyle='rgba(0,0,0,.45)'; ctx.fillRect(0,0,W,H); ctx.fillStyle='#fff'; ctx.font='700 22px system-ui, sans-serif'; ctx.textAlign='center'; ctx.fillText('Paused — press P to resume', W/2, H/2); }
    }

    function loop(now){ const dt = Math.min(0.033, (now - state.last)/1000); state.last=now; update(dt); draw(); requestAnimationFrame(loop); }
    requestAnimationFrame(loop);

    // Helpers
    function ellipse(ctx,x,y,rx,ry){ ctx.beginPath(); ctx.ellipse(x,y,rx,ry,0,0,Math.PI*2); }

    // Buttons
    el.startBtn.addEventListener('click', start);
    el.retryBtn.addEventListener('click', start);
  }
})();
</script>

      </div>
      <!-- END PRICING / ORDER -->
    </section>

    <!-- MEDIA -->
    <section id="media" class="section">
      <h2 class="section-title">More Views & Demo</h2>
      <div class="section-banner banner-media" aria-hidden="true"></div>

      <div class="media-showcase">
        <div class="video-carousel" id="videoCarousel">
          <div class="video-track">
            <!-- Videos will be automatically loaded here -->
          </div>
          <button class="vc-btn prev" aria-label="Previous video">&#10094;</button>
          <button class="vc-btn next" aria-label="Next video">&#10095;</button>
          <div class="vc-dots" aria-label="Slide dots"></div>
        </div>

        <div class="media-grid">
          <!-- Images will be automatically loaded here -->
        </div>
      </div>
    </section>

    <!-- STORY -->
    <section id="story" class="section">
      <h2 class="section-title">Our Story</h2>
      <div class="section-banner banner-story" aria-hidden="true"></div>

      <div class="story-section">
        <p><strong>The Family:</strong> Jason, Emily, Lexi, and Kathryn. Licensed trappers in Wisconsin, with the next generation learning the ropes.</p>

        <p>Daddy Daughter Trapping started with Emily's first raccoon and has grown into something bigger than we imagined. Every cold morning checking traplines, every 50-pound beaver hauled out of the water, every lesson learned in the field has strengthened our family bond.</p>

        <p>We're not just hobby trappers. We help landowners with problem animals. We participate in wildlife management and conservation. We teach kids that outdoor skills matter. We harvest fur and create useful products from what nature provides. Most importantly, we spend time together doing something we love.</p>

        <p>From Emily's first visit to the fur truck to harvesting giant raccoons and working towards a beaver blanket, every experience has taught us something. The Egg Cover came from a real need we identified on our own trapline - keeping bait dry and lures working when the weather turns nasty.</p>

        <p><strong>This is our first product, designed by trappers who live this life every season.</strong></p>
      </div>

      <div class="family-grid">
        <div class="value-card">
          <h3>Family Time</h3>
          <p>Building memories that last a lifetime. Teaching skills that matter. Creating bonds that can't be broken.</p>
        </div>
        <div class="value-card">
          <h3>Conservation</h3>
          <p>Managing wildlife populations responsibly. Helping landowners and ecosystems. Being part of the solution.</p>
        </div>
        <div class="value-card">
          <h3>Next Generation</h3>
          <p>Passing down knowledge about trapping, wildlife, and outdoor skills to kids who will carry it forward.</p>
        </div>
        <div class="value-card">
          <h3>Real Solutions</h3>
          <p>Creating gear that solves actual problems we face in the field. No guesswork — just practical design.</p>
        </div>
      </div>
    </section>

    <div class="cta-section" id="contact">
      <h2>Follow Our Adventures</h2>
      <p style="font-size: 1.2rem; margin: 1rem 0;">See our latest catches, trapline updates, and new products. Join the Daddy Daughter Trapping community on Facebook.</p>
      <a href="https://www.facebook.com/daddy.daughter.trapping" target="_blank" class="cta-button">Visit Our Facebook</a>
      <p style="margin-top: 2rem; font-size: 1rem;">Product inquiries or need help with unwanted critters? Message us on Facebook. (Local Wisconsin service area)</p>
    </div>
  </div>

  <footer>
    <p style="font-size: 1.1rem; font-weight: bold; margin-bottom: .5rem;">DADDY DAUGHTER TRAPPING SUPPLIES</p>
    <p>Wisconsin Licensed Trappers | <a href="https://www.facebook.com/daddy.daughter.trapping" target="_blank">Facebook</a></p>
    <p style="margin-top: 1rem;">&copy; 2025 | Tight Chains Everyone!</p>
  </footer>

  <button class="scroll-top" aria-label="Scroll to top">&#8593;</button>

  <script>
    // Auto-load all videos and images from repository
    async function loadMediaFiles() {
      // List your video and image files here - just add new ones to these arrays!
      const knownVideos = ['ad1.mp4', 'eggs1.mp4', 'eggs2.mp4', 'eggs3.mp4', 'eggs4.mp4', 'egg5.mp4', 'egg6.mp4', 'egg7.mp4','egg8.mp4', 'egg9.mp4', 'egg10.mp4', 'egg11.mp4', 'egg12.mp4','egg14.mp4', 'ad2.mp4'];
      const knownImages = ['product1.png', 'product2.png', 'product3.png', 'product4.png'];
      
      // Load videos into carousel (muted, NOT looped, playsinline)
      const videoTrack = document.querySelector('#videoCarousel .video-track');
      if (videoTrack) {
        videoTrack.innerHTML = '';
        for (const video of knownVideos) {
          const slide = document.createElement('div');
          slide.className = 'video-slide';
          slide.innerHTML = `
            <video preload="metadata" muted playsinline controls>
              <source src="${video}" type="video/mp4">
            </video>
          `;
          videoTrack.appendChild(slide);
        }
      }

      // Load images into media grid
      const mediaGrid = document.querySelector('.media-grid');
      if (mediaGrid) {
        mediaGrid.innerHTML = '';
        for (const img of knownImages) {
          const imgEl = document.createElement('img');
          imgEl.src = img;
          imgEl.alt = 'Egg Cover product image';
          imgEl.onerror = function() { this.style.display = 'none'; };
          mediaGrid.appendChild(imgEl);
        }
      }
    }

    // Initialize media files
    loadMediaFiles();

    // Video Carousel with Touch Support (muted + let each video finish before switching)
    (function () {
      setTimeout(() => {
        const root = document.getElementById('videoCarousel');
        if (!root) return;

        const track    = root.querySelector('.video-track');
        const prev     = root.querySelector('.vc-btn.prev');
        const next     = root.querySelector('.vc-btn.next');
        const dotsWrap = root.querySelector('.vc-dots');

        let slides = Array.from(root.querySelectorAll('.video-slide'));
        if (slides.length === 0) return;

        let i = 0;
        let fallbackTimer = null;
        let touchStartX = 0, touchEndX = 0;

        // Build dots
        if (dotsWrap) {
          dotsWrap.innerHTML = '';
          slides.forEach((_, idx) => {
            const b = document.createElement('button');
            b.setAttribute('aria-label', 'Go to video ' + (idx + 1));
            b.addEventListener('click', () => go(idx));
            dotsWrap.appendChild(b);
          });
        }

        function setActive(idx) {
          slides.forEach((s, j) => s.classList.toggle('is-active', j === idx));
          if (dotsWrap) {
            Array.from(dotsWrap.children).forEach((d, j) => d.classList.toggle('is-active', j === idx));
          }
        }

        function setupVideo(v) {
          if (!v) return;
          v.muted = true;
          v.setAttribute('muted', '');
          v.playsInline = true;
          v.setAttribute('playsinline', '');
          v.loop = false;            // allow 'ended' to fire
          v.removeAttribute('loop');
          v.preload = 'metadata';
          v.controls = true;
          v.onended = null;
        }

        // Configure all videos up front
        slides.forEach(s => setupVideo(s.querySelector('video')));

        function clearFallback() {
          if (fallbackTimer) {
            clearTimeout(fallbackTimer);
            fallbackTimer = null;
          }
        }

        function startFallbackFor(v) {
          clearFallback();
          if (!v) return;
          const dur = (isFinite(v.duration) && v.duration > 0) ? v.duration : 45;
          fallbackTimer = setTimeout(() => {
            if (slides[i]?.querySelector('video') === v) nextSlide();
          }, (dur + 2) * 1000);
        }

        function go(idx) {
          slides = Array.from(root.querySelectorAll('.video-slide'));
          i = (idx + slides.length) % slides.length;

          track.style.transform = 'translateX(-' + (i * 100) + '%)';

          slides.forEach((s, j) => {
            const v = s.querySelector('video');
            if (!v) return;

            v.onended = null;

            if (j === i) {
              setupVideo(v);
              try { v.currentTime = 0; } catch (_) {}
              v.play().catch(()=>{});
              v.onended = () => { clearFallback(); nextSlide(); };
              startFallbackFor(v); // backup if 'ended' never fires
            } else {
              v.pause();
            }
          });

          setActive(i);
        }

        function nextSlide() { go(i + 1); }
        function prevSlide() { go(i - 1); }

        if (next) next.addEventListener('click', () => { clearFallback(); nextSlide(); });
        if (prev) prev.addEventListener('click', () => { clearFallback(); prevSlide(); });

        // Touch swipe support
        root.addEventListener('touchstart', e => {
          touchStartX = e.changedTouches[0].screenX;
          clearFallback();
        }, {passive: true});

        root.addEventListener('touchend', e => {
          touchEndX = e.changedTouches[0].screenX;
          const diff = touchStartX - touchEndX;
          if (Math.abs(diff) > 50) {
            if (diff > 0) nextSlide();
            else prevSlide();
          }
          startFallbackFor(slides[i]?.querySelector('video'));
        }, {passive: true});

        // Optional: pause auto-advance while hovering
        root.addEventListener('mouseenter', clearFallback);
        root.addEventListener('mouseleave', () => startFallbackFor(slides[i]?.querySelector('video')));

        // Start on first slide
        setActive(0);
        go(0);
      }, 300);
    })();

    // Smooth scroll for nav links
    document.querySelectorAll('nav a, .cta-button[href^="#"]').forEach(link => {
      link.addEventListener('click', function(e) {
        const href = this.getAttribute('href');
        if (href && href.startsWith('#')) {
          e.preventDefault();
          const target = document.querySelector(href);
          if (target) target.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
      });
    });

    // Scroll to top button
    const scrollBtn = document.querySelector('.scroll-top');
    window.addEventListener('scroll', () => {
      if (window.pageYOffset > 300) {
        scrollBtn.classList.add('visible');
      } else {
        scrollBtn.classList.remove('visible');
      }
    });

    scrollBtn.addEventListener('click', () => {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });
  </script>
</body>
</html>
